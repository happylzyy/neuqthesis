%!TEX program = xelatex
\documentclass[cs4size,punct,twoside]{ctexart}
\usepackage{titling}
\usepackage[a4paper, left=30mm, right=20mm, top=30mm, bottom=25mm, headheight=21pt]{geometry}
\usepackage{fancyhdr, graphicx, xpatch, layout}
\usepackage{booktabs}
\usepackage{amsmath}
\usepackage{pdfpages}
\usepackage{float}
% \usepackage{cite}
\usepackage{enumitem}
\usepackage{titlesec}
\usepackage{titletoc}
\usepackage{tabularx}
\usepackage{chngcntr}
\usepackage{listings}
\usepackage{cleveref}
\usepackage{subfigure}
\usepackage[titles,subfigure]{tocloft}
\usepackage[labelsep=space]{caption}
\usepackage[square, numbers, sort, comma]{natbib}
\usepackage{lmodern}
\usepackage{indentfirst}
\usepackage{booktabs}

% 微分算子
\newcommand*{\dif}{\mathop{}\!\mathrm{d}}

% 参考文献行间距
\setlength{\bibsep}{-1pt}

%设置字体
\setmainfont{Times New Roman} % set all eng font
\songti%正文宋体
\zihao{-4}%正文小四号
\CTEXsetup[format+={\mdseries\zihao{3}\heiti}]{section}%章标题 三号黑体
\CTEXsetup[format+={\mdseries\zihao{-4}\heiti}]{subsection}%节标题 小四号黑体
\CTEXsetup[format+={\mdseries\zihao{-4}\heiti}]{subsubsection}%级标题 小四号黑体  

%设置间距
\linespread{1.6}
\titlespacing{\section}{0bp}{0.5em}{0.5em}
\titlespacing{\subsection}{0bp}{0.5em}{0.5em}
\titlespacing{\subsubsection}{0.5bp}{0.5em}{0.5em}

% 图表公式每章重新编号
\counterwithin{table}{section}
\counterwithin{figure}{section}
\counterwithin{equation}{section}

%列表样式
\setlist[enumerate,1]{label=\arabic*、, wide, labelsep=-0.3em, itemsep=-0.2ex, topsep=0pt, partopsep=0pt, parsep=0pt}
\setlist[enumerate,2]{label=（\arabic*）\ , wide, labelsep=0em, itemsep=0ex, topsep=0pt, partopsep=0pt, parsep=0pt}

%% lstlisting 样式
\def\inline{\lstinline[basicstyle=\ttfamily,breaklines=true]}
\lstset{
	basicstyle=\ttfamily\zihao{5},
	xleftmargin=2em,
    breaklines=true,
    frame={tb},
    belowcaptionskip=1em
}
%\counterwithin{lstlisting}{section}

%引用样式
\renewcommand{\lstlistingname}{代码清单}
\crefname{listing}{代码清单}{代码清单}
\Crefname{listing}{代码清单}{代码清单}
\crefname{table}{表}{表}
\Crefname{table}{表}{表}
\crefname{figure}{图}{图}
\Crefname{figure}{图}{图}

%自定义命令
\newcommand{\scite}[1]{\textsuperscript{\cite{#1}}} %cite样式
\DeclareCaptionFormat{myformat}{\zihao{5}\selectfont#1#2#3}
\captionsetup{format=myformat}
\captionsetup{labelsep=quad}%图表号与图表名之间空两格


%------------------文档开始------------------
\begin{document}
\pagestyle{empty}
\include{sections/cover}
\include{sections/statement}

%页眉页脚
\pagestyle{fancy}
\setlength{\voffset}{3pt}
\lhead{}
\chead{\zihao{4}\heiti 东北大学秦皇岛分校本科生毕业设计（论文）} %\bfseries 不用加粗
\rhead{}
\lfoot{}
\cfoot{\zihao{5}\thepage}
\rfoot{}
\renewcommand{\headrulewidth}{0.4pt}
\pagenumbering{Roman} %目录页码为罗马数字
\setcounter{page}{1}%页码重新计数


\include{sections/abstract}
\include{sections/toc}
\pagenumbering{arabic} %正文页码为阿拉伯数字
\include{sections/introduction}
\include{sections/structureParameters}
\include{sections/integratedDesign}
\include{sections/detailedDesign}
\include{sections/deployTest}
\include{sections/conclusion}
\include{sections/thanks}

% \bibliographystyle{IEEEtran}
\bibliographystyle{gbt7714-2005}
% \bibliographystyle{thu}
% \bibliographystyle{cqu}
\nocite{*}
\addcontentsline{toc}{section}{参考文献}
\renewcommand\bibnumfmt[1]{\makebox[0.9cm][l]{[#1]}}
\setlength{\bibhang}{0em}

\bibliography{citation}
%\setlength{\bibindent}{5cm}

\include{sections/appendix}
\end{document}